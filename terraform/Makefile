TERRAFORM := terraform
TFLINT := tflint

## lint:ğŸ” Check validation and linting
.PHONY: lint
lint:
	$(TERRAFORM) validate
	$(TFLINT)

## plan:ğŸ“œ plan
.PHONY: plan
plan: lint
	$(TERRAFORM) plan | less -R

## apply:ğŸš€ apply
.PHONY: apply
apply: lint
	$(TERRAFORM) apply

.PHONY: help
help: Makefile
	@echo
	@echo " Choose a command"
	@echo
	@sed -n 's/^##//p' $< | column -t -s ':' |  sed -e 's/^/ /'
	@echo
